<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Weather Alert Backend user site: current and forecast condition alerts, anti-spam behavior, and role-based API usage."
    />
    <title>Weather Alert Hub | Home</title>
    <link rel="stylesheet" href="./assets/styles.css" />
    <script defer src="./assets/site.js"></script>
  </head>
  <body>
    <header class="site-header">
      <div class="container nav-shell">
        <a class="brand" href="./index.html">
          <span class="brand-dot" aria-hidden="true"></span>
          Weather Alert Hub
        </a>
        <button class="menu-toggle" data-menu-toggle aria-expanded="false" aria-controls="site-nav">Menu</button>
        <nav id="site-nav" class="site-nav" aria-label="Main Navigation">
          <a data-nav href="./index.html">Home</a>
          <a data-nav href="./getting-started.html">Getting Started</a>
          <a data-nav href="./use-alerts.html">Use Alerts</a>
          <a data-nav href="./api-reference.html">API Reference</a>
          <a data-nav href="./faq.html">FAQ</a>
        </nav>
      </div>
    </header>

    <main>
      <section class="hero">
        <div class="container hero-grid">
          <div class="reveal">
            <p class="kicker">NOAA current + forecast monitoring</p>
            <h1>Weather alerts with less noise and clearer trigger logic.</h1>
            <p class="lead">
              This backend evaluates NOAA active alerts, latest observations, and hourly forecasts against user-defined
              criteria with one-time-per-event anti-spam controls.
            </p>
            <div class="actions">
              <a class="btn btn-primary" href="./getting-started.html">Set Up in Minutes</a>
              <a class="btn btn-secondary" href="./api-reference.html">View Endpoints</a>
            </div>
          </div>

          <aside class="panel reveal">
            <h2>At a glance</h2>
            <p><strong>Default forecast window:</strong> 48 hours (configurable per criteria up to 168h).</p>
            <p><strong>Scheduler:</strong> every 5 minutes, fixed delay, batched criteria processing.</p>
            <p><strong>Cadence controls:</strong> edge-triggered notifications + configurable rearm window.</p>
            <p><strong>Create behavior:</strong> criteria are evaluated immediately after creation.</p>
          </aside>
        </div>
      </section>

      <section class="section">
        <div class="container">
          <div class="reveal">
            <p class="kicker">How it works</p>
            <h2>Three execution stages</h2>
          </div>
          <div class="grid-3">
            <article class="card reveal">
              <h3>1. Define criteria</h3>
              <p>
                Configure location filters and condition rules like temperature direction, rain threshold type,
                monitoring mode, and temperature unit.
              </p>
            </article>
            <article class="card reveal">
              <h3>2. Evaluate conditions</h3>
              <p>
                The engine checks active alerts, current observations, and forecast periods. Outcomes are
                <span class="inline-code">MET</span>, <span class="inline-code">NOT_MET</span>, or
                <span class="inline-code">UNAVAILABLE</span>.
              </p>
            </article>
            <article class="card reveal">
              <h3>3. Persist + notify</h3>
              <p>
                Matching events create deduped alerts with lifecycle state
                <span class="inline-code">PENDING -&gt; SENT -&gt; ACKNOWLEDGED/EXPIRED</span>.
              </p>
            </article>
          </div>
        </div>
      </section>

      <section class="section">
        <div class="container grid-2">
          <article class="card reveal">
            <p class="kicker">Implementation Status</p>
            <h2>Completed TODO chunks</h2>
            <ol class="step-list">
              <li>Chunks 1-3: Flyway migrations + NOAA current/forecast pipeline.</li>
              <li>Chunks 4-6: Rule engine, anti-spam criteria state, alert lifecycle + dedupe.</li>
              <li>Chunks 7-8: Criteria filters/validation improvements + scheduler batching/outage guard.</li>
            </ol>
          </article>

          <article class="card reveal">
            <p class="kicker">For Integrators</p>
            <h2>Start with these pages</h2>
            <div class="actions">
              <a class="btn btn-primary" href="./getting-started.html">Token + First Calls</a>
              <a class="btn btn-secondary" href="./use-alerts.html">Daily Usage Workflow</a>
            </div>
            <p class="small">All routes under <span class="inline-code">/api/**</span> require JWT except token creation.</p>
          </article>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container small">
        Weather Alert Backend user docs (aligned with checked TODO chunks 1-8). <span data-year></span>
      </div>
    </footer>
  </body>
</html>
